<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="Getting started: basic programming (Perry Williams)" />


<title>Module 2.1</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/journal.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 61px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 66px;
  margin-top: -66px;
}

.section h2 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h3 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h4 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h5 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h6 {
  padding-top: 66px;
  margin-top: -66px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">R bootcamp, Fall 2018</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Bootcamp #1: getting started
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="module1_1.html">Module 1.1: Getting started: working with objects</a>
    </li>
    <li>
      <a href="module1_2.html">Module 1.2: Getting started: managing data</a>
    </li>
    <li>
      <a href="module1_3.html">Module 1.3: Getting started: plotting and basic stats</a>
    </li>
    <li>
      <a href="module1_4.html">Module 1.4: Getting started: expanding your skill set</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Bootcamp #2: beyond the basics
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="module2_1.html">Module 2.1: Programming in R</a>
    </li>
    <li>
      <a href="module2_2.html">Module 2.2: Using the 'tidyvierse'</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Data sets
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="turtle_data.txt">Turtle Data</a>
    </li>
  </ul>
</li>
<li>
  <a href="Links.html">Links</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Module 2.1</h1>
<h4 class="author"><em>Getting started: basic programming (Perry Williams)</em></h4>
<h4 class="date"><em>September 2018</em></h4>

</div>


<p>NOTE: this module borrows heavily from an R short course developed by a team at Colorado State University.</p>
<p><strong>Guest presenter</strong>: Perry Williams (who also pulled this module together, and was a part of the CSU team that put many of these materials toghether and graciously allowed us to borrow them- thanks!!!)</p>
<div id="load-script-for-module-2.1" class="section level2">
<h2>Load script for module #2.1</h2>
<ol style="list-style-type: decimal">
<li><p>Click <a href="module2_1.R">here</a> to download the script! Save the script to a convenient folder on your laptop.</p></li>
<li><p>Load your script in RStudio. To do this, open RStudio and click on the folder icon in the toolbar at the top and load your script.</p></li>
</ol>
<p>Let’s get started with basic programming in R!</p>
</div>
<div id="functions-in-r" class="section level2">
<h2>Functions in R</h2>
<p>Everything in R can be boiled down to this one sentence: data are expressed as <em>vectors</em>, and vectors are managed, manipulated, and visualized via <strong>functions</strong>. Functions are absolutely central to R!</p>
<p>Let’s start with a blank workspace:</p>
<pre class="r"><code>#######
# Start with blank workspace

rm(list=ls())</code></pre>
<p>As we have seen, base R already includes lots of functions, and thousands more functions are available in packages that you can install. Nonetheless, it’s really useful to know how to write your own functions! For example, we might write our own function if we have to repeat certain sets of operations over and over in different contexts.</p>
<p>We use the following syntax when we are writing our own functions:</p>
<pre><code>
my.function &lt;- function(inputs){         # function takes various arguments, or inputs
    
    ## Algorithm: Do something useful with the inputs
    
    return(output)             # optionally, return some output
    
}
</code></pre>
<div id="first-function-hello-world" class="section level3">
<h3>First function: “Hello, world!”</h3>
<p>Let’s try to write our first function, which prints out a message: “Hello, world!”</p>
<pre class="r"><code>####
####  Functions
####

my.function = function(){       # this function has no arguments
  message &lt;- &quot;Hello, world!&quot;
  print(message)
}</code></pre>
<p>Now we can run the function!</p>
<pre class="r"><code>my.function()</code></pre>
<pre><code>## [1] &quot;Hello, world!&quot;</code></pre>
</div>
<div id="mean-function" class="section level3">
<h3>‘Mean’ function</h3>
<p>Let’s write a function to compute the mean of a vector. Okay fine, base R already has the “mean()” function, but let’s do it anyway!</p>
<pre class="r"><code>## We can write our own functions. Useful if we have to repeat operations over and over.
my.mean &lt;- function(x){
    m &lt;- sum(x)/length(x)
    return(m)
}

foo &lt;- c(2, 4, 6, 8)
my.mean(foo)</code></pre>
<pre><code>## [1] 5</code></pre>
</div>
<div id="square-function" class="section level3">
<h3>‘Square’ function</h3>
<p>How about a function to square the arguments?</p>
<pre class="r"><code>## A function to square the arguments.
square &lt;- function(x){
    x^2
}

## Square a single value (scaler).
square(2)</code></pre>
<pre><code>## [1] 4</code></pre>
<pre class="r"><code>## Square a vector.
square(1:10)</code></pre>
<pre><code>##  [1]   1   4   9  16  25  36  49  64  81 100</code></pre>
</div>
<div id="logit-function" class="section level3">
<h3>‘Logit’ function</h3>
<p>The logit operation (log-odds) is not included in the base R package. Let’s write it ourselves!</p>
<pre class="r"><code>## Often, we need to write functions that are not included in the base R package e.g., the logit function.
## Calculate the log-odds (logit).
logit &lt;- function(x){
    log(x/(1-x))
}

## Calculate logit of 0.9.
logit(.9)</code></pre>
<pre><code>## [1] 2.197225</code></pre>
<pre class="r"><code>## Sequence between 0 and 1.
x &lt;- seq(from = 0, to = 1, by = 0.01)

## Caclulate the logit of a vector.
logit.x &lt;- logit(x)
logit.x</code></pre>
<pre><code>##   [1]        -Inf -4.59511985 -3.89182030 -3.47609869 -3.17805383
##   [6] -2.94443898 -2.75153531 -2.58668934 -2.44234704 -2.31363493
##  [11] -2.19722458 -2.09074110 -1.99243016 -1.90095876 -1.81528997
##  [16] -1.73460106 -1.65822808 -1.58562726 -1.51634749 -1.45001018
##  [21] -1.38629436 -1.32492541 -1.26566637 -1.20831121 -1.15267951
##  [26] -1.09861229 -1.04596856 -0.99462258 -0.94446161 -0.89538405
##  [31] -0.84729786 -0.80011930 -0.75377180 -0.70818506 -0.66329422
##  [36] -0.61903921 -0.57536414 -0.53221681 -0.48954823 -0.44731222
##  [41] -0.40546511 -0.36396538 -0.32277339 -0.28185115 -0.24116206
##  [46] -0.20067070 -0.16034265 -0.12014431 -0.08004271 -0.04000533
##  [51]  0.00000000  0.04000533  0.08004271  0.12014431  0.16034265
##  [56]  0.20067070  0.24116206  0.28185115  0.32277339  0.36396538
##  [61]  0.40546511  0.44731222  0.48954823  0.53221681  0.57536414
##  [66]  0.61903921  0.66329422  0.70818506  0.75377180  0.80011930
##  [71]  0.84729786  0.89538405  0.94446161  0.99462258  1.04596856
##  [76]  1.09861229  1.15267951  1.20831121  1.26566637  1.32492541
##  [81]  1.38629436  1.45001018  1.51634749  1.58562726  1.65822808
##  [86]  1.73460106  1.81528997  1.90095876  1.99243016  2.09074110
##  [91]  2.19722458  2.31363493  2.44234704  2.58668934  2.75153531
##  [96]  2.94443898  3.17805383  3.47609869  3.89182030  4.59511985
## [101]         Inf</code></pre>
<pre class="r"><code>## Plot x on x-axis, and logit(x) on y axis.
par(mfrow = c(1, 1))
plot(x, logit.x, type = &#39;l&#39;)    # View the output graphically.</code></pre>
<p><img src="module2_1_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
</div>
<div id="expit-function" class="section level3">
<h3>‘Expit’ function</h3>
<p>A useful, related function is the inverse-logit, or “expit” function:</p>
<pre class="r"><code>## The expit (or inverse logit) funtion.
expit &lt;- function(x){
    exp(x)/(1+exp(x))
}

## Calculate the inverse-logit of logit(0.9) = 2.197225.
expit(2.197225)</code></pre>
<pre><code>## [1] 0.9</code></pre>
<pre class="r"><code>expit.logit.x &lt;- expit(logit.x)    # Return to original x values.

## Plot x on x-axis, and expit(logit(x)) = x on y axis.
plot(x, expit.logit.x, type = &#39;l&#39;)</code></pre>
<p><img src="module2_1_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<pre class="r"><code>## Plot &quot;logistic&quot; curve
plot(x=seq(-3,3,0.1),y=expit(seq(-3,3,0.1)),type=&quot;l&quot;)</code></pre>
<p><img src="module2_1_files/figure-html/unnamed-chunk-8-2.png" width="672" /></p>
</div>
<div id="kaplan-meier-survival-function" class="section level3">
<h3>Kaplan Meier survival function</h3>
<p>Finally, let’s develop a function to compute the maximum-likelihood estimator for a Kaplan-Meier survival analysis:</p>
<pre class="r"><code>## Kaplan Meier known-fate maximum likelihood estimator.
survival.mle &lt;- function(n, d){
    (n-d)/n
}
## n is the number of animals fitted with ratio transmitters being monitored.
## d is the number of n that died.

## One year of data.
survival.mle(n = 10, d = 5)</code></pre>
<pre><code>## [1] 0.5</code></pre>
<pre class="r"><code>## Many years of data.
d &lt;- sample(0:50, 10, replace = TRUE)
n &lt;- c(100, 100-d)
(surv &lt;- survival.mle(n = n[1:10], d = d))</code></pre>
<pre><code>##  [1] 0.7600000 0.8947368 0.9456522 0.8947368 0.5666667 0.7213115 0.7831325
##  [8] 0.8780488 0.7555556 0.4743590</code></pre>
<pre class="r"><code>## Plot year-specific survival rate.
plot(1:10, surv, type = &#39;l&#39;)</code></pre>
<p><img src="module2_1_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
</div>
</div>
<div id="conditional-statements" class="section level2">
<h2>Conditional statements</h2>
<p>Conditional, or logical, operations (IF [condition] THEN [do something] ELSE [do something]) are a basic building block of computer programming.</p>
<div id="ifelse-statements-in-r" class="section level3">
<h3>if…else statements in R</h3>
<p>The basic syntax for if…else statements in R is as follows:</p>
<pre><code>
if([some condition]){               ## if some condition is met
  [execute some commands]
}else if ([some other condition]){   ## if some other condition is met
  [execute some other commands]
}else{                               ## if none of the above conditions are met
  [execute some other commands]
}
</code></pre>
<p>Let’s try it!</p>
<pre class="r"><code>####
####  if...else statements
####

########
# Draw a sample from a Binomial distribution with p = 0.7 (here, p is detection probability).
n.samples &lt;- 1
p &lt;- 0.7
x &lt;- rbinom(n = n.samples, size = 1, prob = p)

if (x &gt; 0) {
    print(&quot;Detected&quot;)
} else {
    print(&quot;Not detected&quot;)
}</code></pre>
<pre><code>## [1] &quot;Detected&quot;</code></pre>
</div>
<div id="ifelse-function" class="section level3">
<h3>ifelse() function</h3>
<p>Note that “if…else” only works for testing one value. If we have a spreadsheet with lots of data, need something else – like the “ifelse()” function.</p>
<pre class="r"><code>####
####  ifelse()
####

## Note if...else only works for testing one value. If we have a spreadsheet with lots of data, need something else.
n.samples &lt;- 100
set.seed(2017)

## 100 samples from a binomial disribution with detection probability = p = 0.7.
y &lt;- rbinom(n = n.samples, size = 1, prob = p)
y</code></pre>
<pre><code>##   [1] 0 1 1 1 0 0 1 1 1 1 1 1 1 1 1 1 1 0 0 0 1 1 0 0 1 0 1 1 1 1 0 1 1 1 0
##  [36] 1 1 1 1 1 1 1 1 1 0 1 1 1 0 0 1 0 1 1 0 1 1 0 1 0 1 1 1 0 0 1 1 1 1 1
##  [71] 0 1 1 0 0 1 1 1 1 0 1 0 1 0 1 1 1 1 1 1 0 1 1 1 0 1 0 1 0 1</code></pre>
<pre class="r"><code>## incorrect usage
if (y == 1) {
    print(&quot;Detected&quot;)
} else {
    print(&quot;Not detected&quot;)
}   # PRINTS A WARNING MESSAGE!</code></pre>
<pre><code>## Warning in if (y == 1) {: the condition has length &gt; 1 and only the first
## element will be used</code></pre>
<pre><code>## [1] &quot;Not detected&quot;</code></pre>
<pre class="r"><code>## Use ifelse instead.
detection.history &lt;- ifelse(y == 1, print(&quot;Detected&quot;), print(&quot;Not detected&quot;))</code></pre>
<pre><code>## [1] &quot;Detected&quot;
## [1] &quot;Not detected&quot;</code></pre>
<pre class="r"><code>detection.history</code></pre>
<pre><code>##   [1] &quot;Not detected&quot; &quot;Detected&quot;     &quot;Detected&quot;     &quot;Detected&quot;    
##   [5] &quot;Not detected&quot; &quot;Not detected&quot; &quot;Detected&quot;     &quot;Detected&quot;    
##   [9] &quot;Detected&quot;     &quot;Detected&quot;     &quot;Detected&quot;     &quot;Detected&quot;    
##  [13] &quot;Detected&quot;     &quot;Detected&quot;     &quot;Detected&quot;     &quot;Detected&quot;    
##  [17] &quot;Detected&quot;     &quot;Not detected&quot; &quot;Not detected&quot; &quot;Not detected&quot;
##  [21] &quot;Detected&quot;     &quot;Detected&quot;     &quot;Not detected&quot; &quot;Not detected&quot;
##  [25] &quot;Detected&quot;     &quot;Not detected&quot; &quot;Detected&quot;     &quot;Detected&quot;    
##  [29] &quot;Detected&quot;     &quot;Detected&quot;     &quot;Not detected&quot; &quot;Detected&quot;    
##  [33] &quot;Detected&quot;     &quot;Detected&quot;     &quot;Not detected&quot; &quot;Detected&quot;    
##  [37] &quot;Detected&quot;     &quot;Detected&quot;     &quot;Detected&quot;     &quot;Detected&quot;    
##  [41] &quot;Detected&quot;     &quot;Detected&quot;     &quot;Detected&quot;     &quot;Detected&quot;    
##  [45] &quot;Not detected&quot; &quot;Detected&quot;     &quot;Detected&quot;     &quot;Detected&quot;    
##  [49] &quot;Not detected&quot; &quot;Not detected&quot; &quot;Detected&quot;     &quot;Not detected&quot;
##  [53] &quot;Detected&quot;     &quot;Detected&quot;     &quot;Not detected&quot; &quot;Detected&quot;    
##  [57] &quot;Detected&quot;     &quot;Not detected&quot; &quot;Detected&quot;     &quot;Not detected&quot;
##  [61] &quot;Detected&quot;     &quot;Detected&quot;     &quot;Detected&quot;     &quot;Not detected&quot;
##  [65] &quot;Not detected&quot; &quot;Detected&quot;     &quot;Detected&quot;     &quot;Detected&quot;    
##  [69] &quot;Detected&quot;     &quot;Detected&quot;     &quot;Not detected&quot; &quot;Detected&quot;    
##  [73] &quot;Detected&quot;     &quot;Not detected&quot; &quot;Not detected&quot; &quot;Detected&quot;    
##  [77] &quot;Detected&quot;     &quot;Detected&quot;     &quot;Detected&quot;     &quot;Not detected&quot;
##  [81] &quot;Detected&quot;     &quot;Not detected&quot; &quot;Detected&quot;     &quot;Not detected&quot;
##  [85] &quot;Detected&quot;     &quot;Detected&quot;     &quot;Detected&quot;     &quot;Detected&quot;    
##  [89] &quot;Detected&quot;     &quot;Detected&quot;     &quot;Not detected&quot; &quot;Detected&quot;    
##  [93] &quot;Detected&quot;     &quot;Detected&quot;     &quot;Not detected&quot; &quot;Detected&quot;    
##  [97] &quot;Not detected&quot; &quot;Detected&quot;     &quot;Not detected&quot; &quot;Detected&quot;</code></pre>
<pre class="r"><code>## Going the other direction.
ifelse(detection.history == &quot;Detected&quot;, 1, 0)</code></pre>
<pre><code>##   [1] 0 1 1 1 0 0 1 1 1 1 1 1 1 1 1 1 1 0 0 0 1 1 0 0 1 0 1 1 1 1 0 1 1 1 0
##  [36] 1 1 1 1 1 1 1 1 1 0 1 1 1 0 0 1 0 1 1 0 1 1 0 1 0 1 1 1 0 0 1 1 1 1 1
##  [71] 0 1 1 0 0 1 1 1 1 0 1 0 1 0 1 1 1 1 1 1 0 1 1 1 0 1 0 1 0 1</code></pre>
<pre class="r"><code>xt  &lt;-  cbind(rbinom(10, 1, .5), rbinom(10, 1, .6))
xt</code></pre>
<pre><code>##       [,1] [,2]
##  [1,]    1    1
##  [2,]    1    1
##  [3,]    0    0
##  [4,]    0    1
##  [5,]    1    0
##  [6,]    0    0
##  [7,]    0    1
##  [8,]    1    1
##  [9,]    0    1
## [10,]    0    1</code></pre>
<pre class="r"><code>ifelse(xt[, 1] &gt; 0 &amp; xt[, 2] &gt; 0, print(&quot;Detected twice&quot;),
       print(&quot;Not detected twice&quot;))</code></pre>
<pre><code>## [1] &quot;Detected twice&quot;
## [1] &quot;Not detected twice&quot;</code></pre>
<pre><code>##  [1] &quot;Detected twice&quot;     &quot;Detected twice&quot;     &quot;Not detected twice&quot;
##  [4] &quot;Not detected twice&quot; &quot;Not detected twice&quot; &quot;Not detected twice&quot;
##  [7] &quot;Not detected twice&quot; &quot;Detected twice&quot;     &quot;Not detected twice&quot;
## [10] &quot;Not detected twice&quot;</code></pre>
</div>
</div>
<div id="iterating" class="section level2">
<h2>Iterating!</h2>
<p>Iterating, or running the same operation over and over sequentially, is another fundamental computer programming tool. Computers are great at performing multiple computations really, really fast! <strong>Loops</strong> are a good way to take advantage of computers!</p>
<p>The basic syntax for iterating in R is called a “FOR loop”, and looks like this:</p>
<pre><code>
for([placeholder variable] in [iteration vector of length x]){
  [perform specified operation(s) x times, with the placeholder variable alternately set at each value of the iteration vector]
}
</code></pre>
<p>For example…</p>
<pre class="r"><code>####
####  for loops
####

n.iter &lt;- 10
count &lt;- 0
for(i in 1:n.iter){
    count &lt;- count+1            # assign a new value of count equal to the old value of count + 1
    print(count)
}</code></pre>
<pre><code>## [1] 1
## [1] 2
## [1] 3
## [1] 4
## [1] 5
## [1] 6
## [1] 7
## [1] 8
## [1] 9
## [1] 10</code></pre>
<p>Here, “i” is the placeholder variable and “1:n.iter” is the iteration vector:</p>
<pre class="r"><code>  # closer look at iteration vector:
1:n.iter</code></pre>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<p>Essentially, R starts this for loop by setting the value of the placeholder variable “i” to the first value of (1). It then runs the two commands in the body of the for loop [count &lt;- count+1; print(count)]. Then, it sets the placeholder variable “i” to the next value in the iteration vector (2) and runs the commands again. It keeps doing this until it reaches the end of the iteration vector, at which point it stops!</p>
<p>Often, we use the placeholder variable directly within the for loop. Here are some examples:</p>
<pre class="r"><code>## Using the placeholder variable &quot;i&quot; within the for loop:

count &lt;- 0
for(i in 1:n.iter){
    count &lt;- count+i            # assign a new value of count equal to the old value of count + i
    print(count)
}</code></pre>
<pre><code>## [1] 1
## [1] 3
## [1] 6
## [1] 10
## [1] 15
## [1] 21
## [1] 28
## [1] 36
## [1] 45
## [1] 55</code></pre>
<pre class="r"><code>## A for-loop for dependent sequence (here, the Fibonacci sequence)
n.iter &lt;- 10
x &lt;- rep(0, n.iter)            # set up vector of all zeros
x[1] &lt;- 1                     # assign x_1  &lt;-  1
x[2] &lt;- 1                     # assign x_2 = 0
x</code></pre>
<pre><code>##  [1] 1 1 0 0 0 0 0 0 0 0</code></pre>
<pre class="r"><code>for(i in 3:n.iter){
    x[i] &lt;- x[i-1]+x[i-2]       # x_i = x_(i-1) + x_(i-2)
}
x</code></pre>
<pre><code>##  [1]  1  1  2  3  5  8 13 21 34 55</code></pre>
<div id="iterating-using-the-apply-family-of-functions-in-r" class="section level3">
<h3>Iterating using the “apply() family of functions in R”</h3>
<pre class="r"><code>###
### apply
###

W &lt;- matrix(rpois(4, 10), nrow = 2, ncol = 2)  # Create a 2X2 matrix using a Poisson distribution with lambda = 10.
W</code></pre>
<pre><code>##      [,1] [,2]
## [1,]   12    5
## [2,]   10    8</code></pre>
<pre class="r"><code>## Calculate the row means.
apply(W, 1, mean)</code></pre>
<pre><code>## [1] 8.5 9.0</code></pre>
<pre class="r"><code>## Calculate the column means.
apply(W, 2, mean)</code></pre>
<pre><code>## [1] 11.0  6.5</code></pre>
<pre class="r"><code>## Identify the column that has the largest value.
apply(W, 1, which.max)</code></pre>
<pre><code>## [1] 1 1</code></pre>
<pre class="r"><code>## Apply your own functions to each row in a matrix.
MyFunc &lt;- function(x){
    2+sum(x/5)-3/2*mean(x)^2
}
apply(W, 1, MyFunc)</code></pre>
<pre><code>## [1] -102.975 -115.900</code></pre>
<pre class="r"><code>####################
####  Exercises ####
####################

## if...else
## Reject or fail to reject a null hypothesis.
n.samples &lt;- 100
x &lt;- rnorm(n = n.samples, mean = 1, sd = 1) # Sample from a normal distribution.
mu &lt;- mean(x)                               # Sample mean.
s &lt;- sd(x)                                  # Sample standard deviation.
t &lt;- mu/(s/sqrt(n.samples))                 # Calculate t-statistic.
t.crit &lt;- qt(p = 0.975, df = 99)            # Calculate critical value for test.
if (t &gt; t.crit) {
    print(&quot;reject&quot;)                        # Reject if condition holds.
} else {
    print(&quot;fail to reject&quot;)                # Fail to reject otherwise.
}</code></pre>
<pre><code>## [1] &quot;reject&quot;</code></pre>
<pre class="r"><code>###
### Clean up messy matrix using ifelse
###

## Simulate data.
observations &lt;- matrix(sample(c(&quot;Detected&quot;, &quot;NotDetected&quot;, 1, 0), 20*3, replace = TRUE), 20, 3)
habitat &lt;- rnorm(20, 0, 2)
Data &lt;- cbind(observations, habitat)
Data</code></pre>
<pre><code>##                                                 habitat             
##  [1,] &quot;NotDetected&quot; &quot;Detected&quot;    &quot;Detected&quot;    &quot;1.1651537695756&quot;   
##  [2,] &quot;0&quot;           &quot;NotDetected&quot; &quot;1&quot;           &quot;-0.613816554750075&quot;
##  [3,] &quot;0&quot;           &quot;NotDetected&quot; &quot;0&quot;           &quot;2.21824770751705&quot;  
##  [4,] &quot;NotDetected&quot; &quot;1&quot;           &quot;NotDetected&quot; &quot;-1.41476041128591&quot; 
##  [5,] &quot;NotDetected&quot; &quot;NotDetected&quot; &quot;0&quot;           &quot;1.67620138721813&quot;  
##  [6,] &quot;0&quot;           &quot;Detected&quot;    &quot;1&quot;           &quot;2.91765526282092&quot;  
##  [7,] &quot;NotDetected&quot; &quot;NotDetected&quot; &quot;NotDetected&quot; &quot;4.86943597273634&quot;  
##  [8,] &quot;NotDetected&quot; &quot;0&quot;           &quot;NotDetected&quot; &quot;3.13166254497207&quot;  
##  [9,] &quot;NotDetected&quot; &quot;1&quot;           &quot;Detected&quot;    &quot;1.17810663231691&quot;  
## [10,] &quot;Detected&quot;    &quot;1&quot;           &quot;0&quot;           &quot;1.40889464651772&quot;  
## [11,] &quot;NotDetected&quot; &quot;Detected&quot;    &quot;NotDetected&quot; &quot;-1.31838013069218&quot; 
## [12,] &quot;Detected&quot;    &quot;NotDetected&quot; &quot;1&quot;           &quot;-0.959218095366536&quot;
## [13,] &quot;1&quot;           &quot;1&quot;           &quot;Detected&quot;    &quot;2.31665529967448&quot;  
## [14,] &quot;0&quot;           &quot;Detected&quot;    &quot;1&quot;           &quot;-0.600024626226216&quot;
## [15,] &quot;0&quot;           &quot;0&quot;           &quot;1&quot;           &quot;-1.19162607148504&quot; 
## [16,] &quot;Detected&quot;    &quot;0&quot;           &quot;NotDetected&quot; &quot;0.952650163756112&quot; 
## [17,] &quot;Detected&quot;    &quot;Detected&quot;    &quot;Detected&quot;    &quot;3.31960806917777&quot;  
## [18,] &quot;1&quot;           &quot;1&quot;           &quot;NotDetected&quot; &quot;-2.82432188658575&quot; 
## [19,] &quot;0&quot;           &quot;NotDetected&quot; &quot;NotDetected&quot; &quot;2.00889649628675&quot;  
## [20,] &quot;0&quot;           &quot;0&quot;           &quot;1&quot;           &quot;3.37380275696964&quot;</code></pre>
<pre class="r"><code>## Clean-up data
NewObs &lt;- ifelse(Data[, 1:3] == &quot;Detected&quot;|Data[, 1:3] == &quot;1&quot;, 1, 0) #  The &quot;|&quot; means &quot;or.&quot; Similarly &quot;&amp;&quot; means &quot;and&quot;
NewHabitat &lt;- as.numeric(Data[, 4])  # as.numeric gets rid of quotes around habitat data.
NewHabitat &lt;- round(NewHabitat, 2)   # round rounds to number of decimals specified.
NewData &lt;- cbind(NewObs, NewHabitat) # bind the columns to form a matrix.
colnames(NewData) &lt;- c(&quot;obs1&quot;, &quot;obs2&quot;, &quot;obs3&quot;, &quot;Habitat&quot;)  # provide column names
NewData</code></pre>
<pre><code>##       obs1 obs2 obs3 Habitat
##  [1,]    0    1    1    1.17
##  [2,]    0    0    1   -0.61
##  [3,]    0    0    0    2.22
##  [4,]    0    1    0   -1.41
##  [5,]    0    0    0    1.68
##  [6,]    0    1    1    2.92
##  [7,]    0    0    0    4.87
##  [8,]    0    0    0    3.13
##  [9,]    0    1    1    1.18
## [10,]    1    1    0    1.41
## [11,]    0    1    0   -1.32
## [12,]    1    0    1   -0.96
## [13,]    1    1    1    2.32
## [14,]    0    1    1   -0.60
## [15,]    0    0    1   -1.19
## [16,]    1    0    0    0.95
## [17,]    1    1    1    3.32
## [18,]    1    1    0   -2.82
## [19,]    0    0    0    2.01
## [20,]    0    0    1    3.37</code></pre>
<pre class="r"><code>###
### for loop
###

## Plot a 3D surface using data already stored in R.
Z &lt;- 2 * volcano        # Exaggerate the relief
X &lt;- 10 * (1:nrow(Z))   # 10 meter spacing (S to N)
Y &lt;- 10 * (1:ncol(Z))   # 10 meter spacing (E to W)
Z</code></pre>
<pre><code>##       [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12] [,13]
##  [1,]  200  200  202  202  202  202  202  200  200   200   202   202   204
##  [2,]  202  202  204  204  204  204  204  202  202   202   204   204   206
##  [3,]  204  204  206  206  206  206  206  204  204   204   206   206   208
##  [4,]  206  206  208  208  208  208  208  206  206   206   206   208   208
##  [5,]  208  208  210  210  210  210  210  208  208   206   208   208   210
##  [6,]  210  210  210  212  212  212  212  210  210   208   208   210   210
##  [7,]  210  212  212  214  214  214  214  212  212   210   210   212   212
##  [8,]  212  214  214  216  216  216  216  214  214   212   212   214   216
##  [9,]  214  216  216  218  218  218  218  216  216   214   216   216   220
## [10,]  216  218  218  220  220  220  220  218  218   216   220   220   226
## [11,]  218  220  220  222  222  222  222  220  220   220   224   228   236
## [12,]  220  220  222  226  224  222  226  224  224   228   232   238   242
## [13,]  220  222  226  230  228  226  228  228  230   234   238   242   248
## [14,]  222  226  230  234  232  230  232  234  234   238   242   248   252
## [15,]  228  230  234  234  234  236  238  238  240   242   248   252   256
## [16,]  232  236  236  236  240  242  242  244  244   246   250   256   260
## [17,]  236  240  240  242  244  246  248  248  250   252   254   258   264
## [18,]  240  242  244  246  248  250  252  254  254   256   260   264   268
## [19,]  240  244  250  252  252  254  256  258  260   260   264   268   272
## [20,]  242  248  252  256  258  258  260  262  264   266   270   274   278
## [21,]  244  250  254  260  260  262  266  268  270   272   274   280   286
## [22,]  244  250  256  260  264  266  270  272  274   278   280   286   294
## [23,]  246  252  258  262  266  270  274  276  278   282   286   294   300
## [24,]  248  254  260  264  270  274  276  280  284   288   294   298   308
## [25,]  246  256  262  266  272  276  280  284  288   292   298   302   308
## [26,]  246  254  262  268  272  276  280  284  288   294   298   302   308
## [27,]  240  248  256  262  268  274  278  284  288   292   298   302   306
## [28,]  236  242  250  258  264  268  274  280  284   290   294   298   302
## [29,]  234  240  242  250  258  264  270  276  280   286   290   294   298
## [30,]  230  236  240  244  252  260  266  272  276   282   286   290   296
## [31,]  228  232  236  240  244  254  262  266  272   276   282   286   292
## [32,]  230  228  232  236  240  244  254  258  264   272   278   282   286
## [33,]  226  226  228  232  236  240  244  250  258   266   272   276   282
## [34,]  222  224  226  228  232  236  240  244  252   260   266   272   278
## [35,]  220  224  226  226  228  232  236  240  246   254   262   268   274
## [36,]  218  220  222  224  228  232  236  238  240   248   256   262   272
## [37,]  216  218  222  224  228  232  234  236  240   242   250   256   264
## [38,]  216  218  222  226  228  232  234  236  238   240   244   252   260
## [39,]  214  216  222  224  228  230  232  234  238   240   242   248   256
## [40,]  214  216  220  224  226  226  230  232  236   240   244   250   256
## [41,]  214  216  218  222  226  228  232  234  238   240   244   250   256
## [42,]  216  218  220  224  228  230  232  234  238   240   244   252   258
## [43,]  218  220  222  226  230  232  234  236  240   242   246   252   258
## [44,]  220  222  224  226  232  234  236  238  240   244   250   254   260
## [45,]  222  224  226  228  232  234  236  238  240   246   250   256   260
## [46,]  222  224  226  230  234  236  236  240  242   248   252   256   262
## [47,]  224  226  228  232  234  236  238  240  244   248   254   258   264
## [48,]  226  228  230  232  234  238  238  240  244   250   254   258   264
## [49,]  226  228  230  234  236  238  240  242  246   250   254   260   264
## [50,]  228  230  232  234  236  238  240  242  246   252   256   260   266
## [51,]  230  232  234  236  238  240  242  242  246   252   256   262   268
## [52,]  230  232  234  236  238  240  242  244  246   250   256   262   268
## [53,]  228  230  232  232  236  238  240  242  244   252   258   264   270
## [54,]  226  228  230  232  234  236  238  240  246   252   258   264   270
## [55,]  224  226  228  230  232  234  238  240  244   252   260   266   272
## [56,]  222  224  228  230  232  234  236  240  244   250   262   268   274
## [57,]  222  224  226  230  230  232  234  238  242   252   262   270   276
## [58,]  224  226  226  228  230  232  234  238  244   254   264   270   278
## [59,]  224  226  228  228  232  234  236  240  244   256   264   272   278
## [60,]  224  228  228  230  232  234  238  240  244   256   266   272   280
## [61,]  226  228  230  232  232  234  236  240  246   258   266   274   280
## [62,]  228  230  230  232  234  236  236  240  246   258   266   274   280
## [63,]  228  230  232  234  234  238  236  240  246   256   264   272   278
## [64,]  230  232  232  234  236  238  238  240  248   256   264   272   278
## [65,]  230  232  234  236  236  238  240  246  250   256   262   270   276
## [66,]  232  234  236  236  238  240  244  246  250   256   262   268   274
## [67,]  232  234  236  238  240  242  246  248  252   256   260   266   274
## [68,]  234  236  238  238  240  242  246  248  252   256   258   262   270
## [69,]  234  236  238  240  240  242  246  248  250   252   256   258   264
## [70,]  232  234  236  240  240  242  244  246  248   250   252   256   260
## [71,]  228  230  232  234  238  238  240  242  244   246   250   254   258
## [72,]  224  226  228  230  232  232  234  238  240   244   248   252   254
## [73,]  218  222  224  224  226  226  226  228  232   238   242   246   248
## [74,]  212  214  216  216  218  220  220  224  226   228   234   238   240
## [75,]  208  210  210  212  212  214  216  216  218   218   222   230   232
## [76,]  204  206  206  208  208  210  212  212  214   216   218   222   224
## [77,]  202  204  206  206  208  210  210  212  212   214   216   218   218
## [78,]  200  202  204  204  206  206  208  208  210   212   212   214   212
## [79,]  200  202  202  204  204  206  206  208  208   210   210   210   210
## [80,]  198  200  202  204  204  206  206  206  208   208   208   208   206
## [81,]  198  200  200  202  202  204  204  204  206   206   206   206   204
## [82,]  198  200  200  200  202  202  202  204  204   206   204   204   202
## [83,]  198  198  198  198  200  200  202  202  204   204   202   202   202
## [84,]  196  198  198  198  198  200  200  202  202   204   202   200   200
## [85,]  196  196  196  198  198  198  200  200  202   202   200   200   198
## [86,]  194  196  196  196  198  198  198  200  200   200   200   200   198
## [87,]  194  194  194  196  196  198  198  198  200   200   200   198   198
##       [,14] [,15] [,16] [,17] [,18] [,19] [,20] [,21] [,22] [,23] [,24]
##  [1,]   204   204   204   206   208   206   204   202   202   204   206
##  [2,]   206   206   206   208   210   208   206   204   204   206   210
##  [3,]   208   208   208   210   212   210   208   208   210   212   214
##  [4,]   208   210   210   212   214   212   212   212   214   216   220
##  [5,]   210   210   212   214   216   216   216   218   220   224   228
##  [6,]   212   212   214   218   220   220   224   226   230   232   236
##  [7,]   214   216   218   222   226   228   232   236   240   242   244
##  [8,]   216   220   226   230   234   236   240   244   248   250   254
##  [9,]   222   226   232   236   240   246   250   254   258   260   264
## [10,]   232   236   240   244   250   254   258   266   272   276   280
## [11,]   242   246   250   254   258   266   274   282   286   290   292
## [12,]   248   254   258   266   276   286   292   298   298   302   306
## [13,]   252   258   266   280   290   300   308   310   310   314   318
## [14,]   256   264   274   286   302   312   322   322   324   326   330
## [15,]   262   274   286   300   312   320   326   330   336   340   342
## [16,]   268   282   294   304   312   320   330   336   340   348   352
## [17,]   270   284   298   306   314   322   332   340   348   356   360
## [18,]   274   284   302   310   316   324   338   344   352   362   366
## [19,]   278   290   304   314   320   334   344   350   356   362   370
## [20,]   286   300   308   318   328   340   346   352   358   368   372
## [21,]   294   308   316   324   332   342   348   354   362   372   378
## [22,]   304   314   322   328   336   344   350   358   364   372   380
## [23,]   312   322   328   334   340   346   354   362   368   374   376
## [24,]   314   322   330   336   342   350   356   362   368   372   374
## [25,]   314   320   328   336   344   350   356   362   366   368   368
## [26,]   314   320   328   336   342   348   356   360   362   362   364
## [27,]   312   320   326   334   342   348   356   360   360   360   360
## [28,]   310   318   326   332   338   346   354   358   360   360   360
## [29,]   306   314   320   326   332   342   348   354   358   360   360
## [30,]   302   308   314   320   326   336   342   348   354   358   358
## [31,]   296   302   308   314   320   328   336   342   348   356   356
## [32,]   292   296   302   306   312   320   328   334   344   348   352
## [33,]   286   292   298   300   306   312   320   330   340   346   352
## [34,]   284   290   294   296   302   310   316   326   336   346   352
## [35,]   282   286   290   296   300   308   314   322   332   342   352
## [36,]   280   284   290   294   300   306   314   320   330   340   348
## [37,]   276   284   288   294   298   306   312   320   328   340   348
## [38,]   270   278   286   294   298   304   312   320   328   338   346
## [39,]   266   274   282   290   298   304   312   320   328   336   344
## [40,]   264   272   280   290   296   300   310   320   328   334   340
## [41,]   264   274   282   288   292   298   304   314   324   332   336
## [42,]   266   274   282   286   292   296   302   310   320   328   334
## [43,]   266   276   282   286   292   296   300   310   318   326   330
## [44,]   266   276   282   286   292   296   300   308   318   324   326
## [45,]   268   278   282   288   292   296   302   308   316   322   328
## [46,]   270   278   284   288   292   296   302   310   320   328   330
## [47,]   270   278   284   288   292   298   304   314   324   334   338
## [48,]   270   278   284   288   294   298   308   318   328   338   340
## [49,]   270   278   284   290   296   300   312   322   332   340   340
## [50,]   272   278   284   290   296   304   314   322   332   336   340
## [51,]   272   278   284   290   298   304   314   322   326   328   332
## [52,]   274   278   284   290   298   304   312   318   318   320   324
## [53,]   274   280   286   292   298   304   310   312   314   316   318
## [54,]   276   280   286   292   296   302   306   308   312   314   314
## [55,]   276   282   286   292   296   300   304   308   310   310   310
## [56,]   278   284   288   292   296   300   304   306   306   306   306
## [57,]   280   284   288   292   296   300   302   302   302   302   302
## [58,]   282   286   290   294   298   300   300   300   300   300   300
## [59,]   282   288   292   294   298   300   300   300   300   300   300
## [60,]   284   288   292   296   300   300   300   300   300   300   300
## [61,]   284   288   292   298   300   300   300   300   300   300   300
## [62,]   286   290   294   300   300   300   300   300   300   300   300
## [63,]   284   290   296   300   300   300   300   300   300   300   300
## [64,]   284   290   296   300   300   300   300   300   300   300   300
## [65,]   282   290   296   300   300   300   300   300   300   300   300
## [66,]   282   290   296   298   300   300   300   300   300   300   300
## [67,]   280   288   290   294   296   298   300   298   298   294   292
## [68,]   278   284   286   290   292   294   294   294   292   288   284
## [69,]   274   280   284   286   286   288   288   288   286   282   278
## [70,]   268   278   280   282   282   282   282   282   280   276   272
## [71,]   266   272   268   268   272   276   276   274   274   270   266
## [72,]   258   258   256   254   258   264   266   266   266   266   262
## [73,]   250   248   246   246   246   250   254   258   258   256   256
## [74,]   242   238   234   234   234   236   240   246   248   250   250
## [75,]   228   226   224   222   220   222   226   232   238   244   244
## [76,]   220   218   216   216   216   216   218   220   224   232   234
## [77,]   214   212   212   210   210   210   212   214   216   218   220
## [78,]   212   212   210   210   208   206   206   208   210   214   216
## [79,]   212   210   210   208   206   204   202   204   206   208   212
## [80,]   208   208   208   208   204   202   202   204   206   208   210
## [81,]   206   206   208   206   204   202   202   202   204   206   208
## [82,]   204   204   206   206   202   202   200   202   202   204   206
## [83,]   202   202   204   204   202   200   200   202   202   202   206
## [84,]   200   202   202   202   200   200   200   200   202   202   202
## [85,]   198   200   200   200   200   200   200   200   202   202   202
## [86,]   198   198   200   200   200   200   200   200   200   202   202
## [87,]   198   198   198   200   200   200   200   200   200   202   202
##       [,25] [,26] [,27] [,28] [,29] [,30] [,31] [,32] [,33] [,34] [,35]
##  [1,]   208   208   210   214   214   214   216   216   220   220   220
##  [2,]   212   212   214   218   220   220   220   220   222   224   226
##  [3,]   216   220   222   226   228   230   228   230   232   236   238
##  [4,]   222   228   234   236   234   238   240   242   244   248   250
##  [5,]   230   236   242   244   242   246   256   262   258   260   262
##  [6,]   238   242   248   252   252   258   268   274   274   272   272
##  [7,]   246   250   254   258   260   270   280   284   284   284   282
##  [8,]   256   258   262   268   270   282   292   294   292   292   290
##  [9,]   268   270   274   278   284   292   304   304   302   302   300
## [10,]   282   284   296   300   302   312   316   318   316   314   316
## [11,]   296   300   308   312   318   322   324   326   328   326   328
## [12,]   308   314   318   320   326   330   332   334   336   336   336
## [13,]   322   324   328   330   334   336   338   340   344   348   344
## [14,]   332   334   336   340   342   346   350   354   358   356   354
## [15,]   344   346   348   350   354   358   360   364   366   366   366
## [16,]   358   360   362   362   364   364   366   368   372   374   374
## [17,]   364   366   368   368   370   372   372   374   378   378   378
## [18,]   368   372   374   376   378   378   378   378   380   380   382
## [19,]   372   376   380   382   384   386   386   384   384   382   384
## [20,]   378   380   382   384   386   388   390   388   386   384   382
## [21,]   380   380   382   384   382   382   380   378   376   378   380
## [22,]   380   380   380   378   374   368   368   366   364   364   366
## [23,]   380   378   374   370   366   358   352   348   348   348   348
## [24,]   374   368   368   362   358   350   342   338   336   336   336
## [25,]   370   366   360   354   348   340   334   330   328   328   328
## [26,]   366   362   356   346   338   332   326   322   322   320   320
## [27,]   360   360   350   342   334   324   320   316   314   314   314
## [28,]   360   358   348   338   332   322   316   312   308   306   306
## [29,]   360   358   344   336   328   320   314   308   302   298   300
## [30,]   358   352   342   334   328   320   312   306   298   296   298
## [31,]   358   354   346   338   330   322   314   308   302   298   300
## [32,]   354   352   346   340   332   324   318   314   308   306   308
## [33,]   352   352   346   344   338   330   326   320   316   314   316
## [34,]   354   354   352   348   342   338   332   328   322   322   324
## [35,]   356   356   356   352   348   344   340   334   334   334   332
## [36,]   356   358   358   356   356   352   348   342   340   340   340
## [37,]   356   360   360   358   358   356   352   344   340   340   340
## [38,]   354   360   360   360   360   358   356   348   340   340   336
## [39,]   352   358   360   360   360   358   356   348   340   336   332
## [40,]   348   354   358   358   356   352   352   346   338   332   328
## [41,]   342   346   350   350   346   344   344   342   336   330   324
## [42,]   336   338   340   340   338   336   334   336   332   326   320
## [43,]   332   334   336   336   332   330   328   322   320   318   316
## [44,]   328   332   332   332   330   326   322   318   314   312   310
## [45,]   332   334   336   332   330   326   322   316   312   308   304
## [46,]   336   338   338   336   332   326   320   316   312   306   302
## [47,]   340   340   340   336   330   326   322   318   314   310   302
## [48,]   340   340   340   340   336   330   326   322   316   310   302
## [49,]   340   340   340   340   338   332   326   322   318   310   302
## [50,]   340   340   340   336   332   328   326   320   318   310   302
## [51,]   336   334   332   328   326   322   320   316   312   304   298
## [52,]   324   322   322   320   318   316   314   310   306   300   296
## [53,]   318   318   316   316   314   310   306   302   300   298   294
## [54,]   314   314   312   310   308   304   300   298   296   294   292
## [55,]   310   310   308   304   304   300   296   294   292   290   290
## [56,]   306   306   306   302   298   294   292   288   288   286   286
## [57,]   302   302   302   300   296   292   288   284   282   282   284
## [58,]   300   300   300   298   294   288   284   282   280   280   280
## [59,]   300   300   300   298   292   286   282   280   280   278   278
## [60,]   300   300   300   296   290   284   280   276   276   276   274
## [61,]   300   300   300   294   286   282   278   274   272   272   270
## [62,]   300   300   296   290   284   278   276   272   270   268   268
## [63,]   300   300   294   288   282   278   272   270   268   266   264
## [64,]   300   298   292   286   280   276   270   268   266   262   262
## [65,]   300   294   290   284   278   274   268   264   262   260   258
## [66,]   296   290   286   282   276   270   266   260   258   256   254
## [67,]   288   282   278   272   266   262   258   256   254   252   250
## [68,]   280   276   270   266   260   256   254   252   250   248   246
## [69,]   274   270   266   260   256   254   252   250   246   244   242
## [70,]   268   266   262   258   254   250   248   246   244   240   238
## [71,]   264   260   258   254   250   248   244   242   240   238   234
## [72,]   258   254   252   250   248   244   242   238   236   234   232
## [73,]   254   250   248   246   244   242   238   236   234   232   228
## [74,]   250   246   242   240   240   238   236   234   232   230   228
## [75,]   244   242   240   238   236   236   234   232   230   228   226
## [76,]   234   236   236   236   234   232   232   230   228   226   224
## [77,]   222   226   228   230   230   230   228   226   224   222   220
## [78,]   220   222   222   224   224   226   226   224   222   220   216
## [79,]   214   220   222   222   222   224   224   224   220   214   214
## [80,]   214   220   222   222   222   222   222   222   216   212   210
## [81,]   212   218   220   222   222   222   220   220   214   210   206
## [82,]   210   218   220   220   222   220   220   218   212   210   200
## [83,]   208   214   218   218   220   220   218   216   210   204   200
## [84,]   206   212   214   218   218   218   218   214   208   202   200
## [85,]   204   210   212   218   216   218   214   210   204   200   200
## [86,]   202   206   208   210   212   210   208   202   200   200   198
## [87,]   200   200   200   200   200   200   200   200   200   200   198
##       [,36] [,37] [,38] [,39] [,40] [,41] [,42] [,43] [,44] [,45] [,46]
##  [1,]   220   220   220   220   220   216   216   216   214   214   216
##  [2,]   228   232   230   228   224   220   220   220   218   216   218
##  [3,]   238   242   242   240   236   232   228   224   222   220   220
##  [4,]   252   254   254   252   248   244   240   234   232   226   222
##  [5,]   262   264   264   262   260   256   252   244   238   230   228
##  [6,]   270   272   272   272   270   266   258   252   244   236   232
##  [7,]   280   280   280   280   278   274   268   258   250   242   236
##  [8,]   288   288   288   286   284   282   278   270   260   252   244
##  [9,]   298   296   296   292   290   286   284   278   270   262   254
## [10,]   316   308   302   298   296   292   288   282   274   268   260
## [11,]   328   320   314   308   302   298   292   288   280   274   266
## [12,]   336   332   324   318   314   308   304   298   288   280   272
## [13,]   344   342   338   332   326   322   316   306   296   286   280
## [14,]   352   352   348   342   338   330   322   312   304   296   288
## [15,]   366   360   356   354   344   336   328   320   312   304   296
## [16,]   368   368   362   360   352   344   336   330   322   314   306
## [17,]   378   378   372   364   358   350   342   336   330   324   314
## [18,]   380   380   376   372   366   360   350   342   336   330   322
## [19,]   382   382   380   380   374   368   362   354   344   338   330
## [20,]   382   382   382   380   380   376   368   362   354   346   338
## [21,]   380   382   380   380   380   378   372   368   362   354   346
## [22,]   366   366   368   370   372   374   372   370   368   362   354
## [23,]   348   352   354   358   360   364   366   364   362   362   360
## [24,]   338   340   344   348   354   356   358   360   362   362   360
## [25,]   330   332   336   342   350   352   356   360   362   360   360
## [26,]   322   326   330   336   346   352   356   358   360   362   360
## [27,]   316   318   324   332   340   350   354   356   360   362   362
## [28,]   308   312   318   326   338   346   350   356   360   362   360
## [29,]   300   308   316   328   338   348   356   360   360   360   360
## [30,]   302   310   316   326   340   346   354   358   360   360   360
## [31,]   304   310   318   332   342   350   354   358   360   360   358
## [32,]   310   316   322   338   344   348   352   356   356   356   356
## [33,]   318   322   332   340   340   346   350   352   356   352   346
## [34,]   328   330   334   340   340   342   346   346   346   340   336
## [35,]   336   340   338   336   334   336   336   336   336   334   330
## [36,]   336   334   332   328   326   322   324   326   326   326   322
## [37,]   336   332   328   324   320   314   312   314   316   316   312
## [38,]   334   330   326   322   314   308   306   304   304   304   298
## [39,]   330   326   322   316   308   300   298   296   292   290   286
## [40,]   326   322   318   310   304   296   290   286   282   280   278
## [41,]   320   316   312   306   298   290   284   278   276   274   272
## [42,]   316   310   306   300   294   286   280   274   272   268   266
## [43,]   310   304   298   294   288   282   276   270   268   264   260
## [44,]   306   300   292   286   280   276   272   266   264   260   258
## [45,]   300   292   284   278   274   270   266   262   260   258   256
## [46,]   296   290   284   278   274   270   264   260   258   254   252
## [47,]   296   290   282   278   272   268   264   260   256   254   252
## [48,]   296   290   284   278   274   270   264   262   256   252   250
## [49,]   296   292   286   280   276   270   268   264   260   254   250
## [50,]   296   292   286   282   276   272   268   264   260   256   250
## [51,]   294   288   286   282   278   272   268   264   260   256   250
## [52,]   292   290   286   284   280   274   268   262   258   252   248
## [53,]   292   290   288   284   282   276   270   264   256   250   244
## [54,]   290   288   284   282   280   278   272   264   258   250   242
## [55,]   286   284   282   280   280   280   274   266   258   250   240
## [56,]   284   282   280   280   280   280   276   268   260   246   240
## [57,]   282   280   280   280   280   280   280   272   264   252   240
## [58,]   280   280   280   280   280   280   280   274   266   256   240
## [59,]   278   280   280   280   280   280   280   274   266   258   242
## [60,]   276   280   280   280   280   280   280   274   268   260   244
## [61,]   272   276   280   280   280   280   278   272   268   260   246
## [62,]   268   272   276   274   276   278   274   268   264   250   244
## [63,]   264   268   268   268   268   270   266   262   256   248   240
## [64,]   262   262   262   262   262   260   254   248   244   238   234
## [65,]   256   256   256   256   256   252   246   242   238   232   228
## [66,]   252   250   250   250   248   246   240   236   232   228   222
## [67,]   248   246   246   244   242   240   236   232   228   224   216
## [68,]   244   242   240   238   236   234   230   228   224   220   212
## [69,]   240   238   234   232   230   228   224   222   216   214   210
## [70,]   236   234   232   228   224   222   216   218   212   212   200
## [71,]   232   230   228   224   220   218   216   214   210   210   200
## [72,]   228   226   224   220   218   216   212   212   210   200   200
## [73,]   226   224   220   218   216   214   212   210   200   200   200
## [74,]   226   222   218   218   214   212   210   200   200   200   192
## [75,]   224   222   216   216   212   210   200   200   200   192   192
## [76,]   222   220   214   214   210   200   200   200   194   192   192
## [77,]   216   216   212   210   200   200   200   194   194   192   192
## [78,]   214   212   210   200   200   200   196   194   194   192   192
## [79,]   212   210   204   200   200   198   196   194   194   192   192
## [80,]   210   204   202   200   198   198   196   194   194   192   192
## [81,]   208   200   200   198   198   196   196   194   194   192   192
## [82,]   204   200   198   198   198   196   196   194   194   192   192
## [83,]   200   198   198   198   196   196   196   194   192   192   192
## [84,]   198   198   198   196   196   196   194   192   192   192   192
## [85,]   198   198   196   196   196   194   192   192   192   192   190
## [86,]   198   196   196   194   194   194   192   192   192   190   190
## [87,]   198   196   194   194   194   192   192   192   190   190   190
##       [,47] [,48] [,49] [,50] [,51] [,52] [,53] [,54] [,55] [,56] [,57]
##  [1,]   216   216   216   216   214   214   214   214   212   212   210
##  [2,]   218   218   218   216   216   216   216   214   214   212   212
##  [3,]   220   220   218   218   218   218   216   216   214   214   212
##  [4,]   220   220   220   218   218   218   218   216   216   214   214
##  [5,]   224   220   220   220   220   220   218   218   216   214   214
##  [6,]   230   226   222   220   220   220   220   218   216   216   216
##  [7,]   232   228   224   220   220   220   222   220   218   218   216
##  [8,]   236   232   228   224   224   226   224   220   220   218   218
##  [9,]   244   238   234   230   230   230   228   224   220   220   218
## [10,]   250   244   240   236   234   234   230   226   222   220   220
## [11,]   258   252   248   242   238   236   232   228   224   222   220
## [12,]   266   262   256   250   244   238   234   230   226   222   220
## [13,]   274   268   262   256   250   240   236   232   228   224   220
## [14,]   280   276   270   262   254   246   238   234   230   226   222
## [15,]   288   282   276   268   260   252   242   234   228   224   220
## [16,]   298   290   284   276   266   258   250   240   230   222   220
## [17,]   304   298   290   282   274   262   250   240   232   222   220
## [18,]   314   304   298   290   282   268   254   242   232   224   220
## [19,]   322   312   304   294   286   278   262   246   238   230   222
## [20,]   330   320   310   298   290   284   272   258   246   236   228
## [21,]   338   328   316   304   296   288   280   268   250   236   230
## [22,]   346   338   326   314   298   290   282   272   260   238   232
## [23,]   352   342   332   320   304   294   284   276   266   252   242
## [24,]   358   348   334   322   310   296   288   278   268   256   242
## [25,]   358   354   340   326   314   300   288   278   268   256   242
## [26,]   360   350   346   332   318   304   290   278   268   254   242
## [27,]   360   356   350   338   320   308   296   280   268   256   242
## [28,]   360   358   350   340   320   308   298   284   270   256   244
## [29,]   356   354   350   340   322   306   296   284   270   258   246
## [30,]   356   350   346   342   324   308   294   282   272   260   248
## [31,]   352   348   342   336   318   302   292   282   270   258   248
## [32,]   350   344   338   324   312   298   288   280   268   256   246
## [33,]   342   336   328   316   306   292   280   274   264   254   242
## [34,]   330   326   320   310   298   286   276   268   260   250   238
## [35,]   326   320   312   304   292   280   272   262   256   244   236
## [36,]   320   314   306   296   284   272   260   254   248   240   234
## [37,]   306   302   298   288   278   260   254   248   242   236   230
## [38,]   296   294   288   280   268   256   250   244   238   234   228
## [39,]   286   286   280   272   260   252   246   240   236   230   224
## [40,]   278   276   272   264   256   248   242   236   232   228   222
## [41,]   270   266   262   258   252   244   238   234   228   224   220
## [42,]   264   260   258   254   250   242   236   230   224   220   220
## [43,]   258   256   252   248   244   240   234   226   222   220   220
## [44,]   256   250   248   244   240   238   234   228   222   220   220
## [45,]   254   250   246   242   240   236   232   226   222   220   220
## [46,]   250   248   246   240   240   234   232   228   224   220   220
## [47,]   248   246   244   240   238   234   232   228   224   222   218
## [48,]   248   244   242   240   238   234   230   226   222   220   218
## [49,]   246   242   240   240   238   232   228   224   220   220   216
## [50,]   246   242   240   240   236   232   226   222   220   220   218
## [51,]   244   240   240   238   234   230   226   220   220   218   214
## [52,]   244   240   238   234   230   226   222   220   218   218   214
## [53,]   240   236   234   230   226   224   220   218   216   216   212
## [54,]   236   232   230   226   222   220   218   216   216   214   212
## [55,]   234   230   222   220   220   218   216   214   214   212   210
## [56,]   236   222   220   220   220   216   214   212   216   210   210
## [57,]   230   220   220   220   218   214   212   210   214   210   208
## [58,]   234   220   220   220   216   212   210   210   212   210   208
## [59,]   236   220   220   218   214   212   210   210   210   208   208
## [60,]   236   220   220   216   212   210   206   208   208   208   208
## [61,]   238   226   218   216   212   208   206   208   208   208   206
## [62,]   234   228   218   214   210   206   204   208   208   206   206
## [63,]   232   226   220   214   208   204   204   206   206   206   204
## [64,]   230   224   218   212   208   202   204   206   206   204   204
## [65,]   224   220   216   210   206   202   206   206   206   204   204
## [66,]   218   214   212   208   204   200   202   202   204   204   202
## [67,]   214   210   206   204   200   200   200   200   202   202   200
## [68,]   210   204   202   200   200   200   200   200   200   200   200
## [69,]   200   200   200   200   200   200   200   198   198   198   198
## [70,]   200   200   200   200   198   198   198   198   198   198   198
## [71,]   200   200   200   198   198   198   196   196   196   196   196
## [72,]   200   196   196   196   196   196   196   194   194   194   194
## [73,]   194   194   194   194   194   194   194   192   192   192   192
## [74,]   192   192   192   192   192   192   192   192   192   192   192
## [75,]   192   192   192   192   192   192   192   192   192   192   192
## [76,]   192   192   192   192   192   192   192   192   192   192   192
## [77,]   192   192   192   192   192   192   192   192   192   192   192
## [78,]   192   192   192   192   192   192   192   192   192   192   192
## [79,]   192   192   192   192   192   192   192   192   192   192   192
## [80,]   192   192   192   192   192   192   192   192   192   192   192
## [81,]   192   192   192   192   192   192   192   192   190   190   190
## [82,]   192   192   192   192   190   190   190   190   190   190   190
## [83,]   192   192   190   190   190   190   190   190   190   188   188
## [84,]   190   190   190   190   190   190   190   188   188   188   188
## [85,]   190   190   190   190   190   188   188   188   188   188   188
## [86,]   190   190   190   188   188   188   188   188   188   188   188
## [87,]   190   188   188   188   188   188   188   188   188   188   188
##       [,58] [,59] [,60] [,61]
##  [1,]   210   208   208   206
##  [2,]   210   210   208   208
##  [3,]   212   210   210   208
##  [4,]   212   212   210   210
##  [5,]   214   212   212   210
##  [6,]   214   214   212   212
##  [7,]   216   214   214   212
##  [8,]   216   216   214   212
##  [9,]   218   216   214   214
## [10,]   218   216   214   214
## [11,]   218   216   214   212
## [12,]   218   216   214   212
## [13,]   218   216   214   210
## [14,]   220   216   212   210
## [15,]   220   216   212   208
## [16,]   220   216   212   208
## [17,]   220   216   212   208
## [18,]   220   216   212   208
## [19,]   220   216   212   210
## [20,]   220   216   216   214
## [21,]   222   220   216   214
## [22,]   224   220   216   212
## [23,]   230   220   212   210
## [24,]   230   220   212   210
## [25,]   230   220   216   214
## [26,]   230   220   218   216
## [27,]   230   220   220   218
## [28,]   232   222   220   220
## [29,]   232   226   224   220
## [30,]   234   230   224   220
## [31,]   238   232   226   220
## [32,]   236   230   224   220
## [33,]   234   226   222   220
## [34,]   232   224   220   218
## [35,]   228   220   220   218
## [36,]   226   220   220   218
## [37,]   224   220   220   218
## [38,]   220   220   218   218
## [39,]   220   220   218   218
## [40,]   220   220   218   216
## [41,]   220   218   216   214
## [42,]   220   216   214   214
## [43,]   220   216   214   214
## [44,]   218   216   214   214
## [45,]   218   216   214   212
## [46,]   216   214   212   212
## [47,]   214   212   212   210
## [48,]   212   210   210   208
## [49,]   212   210   208   208
## [50,]   212   210   208   208
## [51,]   212   210   208   208
## [52,]   212   210   208   208
## [53,]   210   210   208   208
## [54,]   210   208   208   208
## [55,]   210   208   208   206
## [56,]   208   208   206   206
## [57,]   208   208   206   206
## [58,]   208   206   206   206
## [59,]   206   206   206   204
## [60,]   206   206   204   204
## [61,]   206   204   204   202
## [62,]   204   204   202   202
## [63,]   204   204   202   200
## [64,]   204   202   200   200
## [65,]   202   200   200   200
## [66,]   200   200   200   200
## [67,]   200   200   200   200
## [68,]   198   198   198   198
## [69,]   198   198   198   196
## [70,]   196   196   196   194
## [71,]   194   194   194   194
## [72,]   194   194   194   192
## [73,]   192   192   192   192
## [74,]   192   192   192   192
## [75,]   192   192   192   192
## [76,]   192   192   192   192
## [77,]   192   192   192   192
## [78,]   192   192   192   192
## [79,]   192   192   192   190
## [80,]   192   192   190   190
## [81,]   190   190   190   190
## [82,]   190   190   190   188
## [83,]   188   188   188   188
## [84,]   188   188   188   188
## [85,]   188   188   188   188
## [86,]   188   188   188   188
## [87,]   188   188   188   188</code></pre>
<pre class="r"><code>par(mfrow = c(2,1), bg = &quot;white&quot;)
persp(X,  Y, Z, theta = 135, phi = 30, col = &quot;green3&quot;,
      scale = FALSE, ltheta = -120, shade = 0.75,
      border = NA, box = FALSE)

## change the value of theta from 135 to 90 to change the viewing angle
persp(X, Y, Z, theta = 90, phi = 30, col = &quot;green3&quot;,
      scale = FALSE,  ltheta = -120, shade = 0.75,
      border = NA, box = FALSE)</code></pre>
<p><img src="module2_1_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
<pre class="r"><code>## Use a for-loop to help view many angles.
par(mfrow = c(1,1))
for(i in 1:18){
    persp(X, Y, Z, theta = i*20, phi = 30, col = &quot;green3&quot;,
          scale = FALSE,  ltheta = -120, shade = 0.75,
          border = NA, box = FALSE)
    print(i*20)
    readline()                               # Pauses the for-loop until [enter] is pushed
}</code></pre>
<p><img src="module2_1_files/figure-html/unnamed-chunk-16-2.png" width="672" /></p>
<pre><code>## [1] 20</code></pre>
<p><img src="module2_1_files/figure-html/unnamed-chunk-16-3.png" width="672" /></p>
<pre><code>## [1] 40</code></pre>
<p><img src="module2_1_files/figure-html/unnamed-chunk-16-4.png" width="672" /></p>
<pre><code>## [1] 60</code></pre>
<p><img src="module2_1_files/figure-html/unnamed-chunk-16-5.png" width="672" /></p>
<pre><code>## [1] 80</code></pre>
<p><img src="module2_1_files/figure-html/unnamed-chunk-16-6.png" width="672" /></p>
<pre><code>## [1] 100</code></pre>
<p><img src="module2_1_files/figure-html/unnamed-chunk-16-7.png" width="672" /></p>
<pre><code>## [1] 120</code></pre>
<p><img src="module2_1_files/figure-html/unnamed-chunk-16-8.png" width="672" /></p>
<pre><code>## [1] 140</code></pre>
<p><img src="module2_1_files/figure-html/unnamed-chunk-16-9.png" width="672" /></p>
<pre><code>## [1] 160</code></pre>
<p><img src="module2_1_files/figure-html/unnamed-chunk-16-10.png" width="672" /></p>
<pre><code>## [1] 180</code></pre>
<p><img src="module2_1_files/figure-html/unnamed-chunk-16-11.png" width="672" /></p>
<pre><code>## [1] 200</code></pre>
<p><img src="module2_1_files/figure-html/unnamed-chunk-16-12.png" width="672" /></p>
<pre><code>## [1] 220</code></pre>
<p><img src="module2_1_files/figure-html/unnamed-chunk-16-13.png" width="672" /></p>
<pre><code>## [1] 240</code></pre>
<p><img src="module2_1_files/figure-html/unnamed-chunk-16-14.png" width="672" /></p>
<pre><code>## [1] 260</code></pre>
<p><img src="module2_1_files/figure-html/unnamed-chunk-16-15.png" width="672" /></p>
<pre><code>## [1] 280</code></pre>
<p><img src="module2_1_files/figure-html/unnamed-chunk-16-16.png" width="672" /></p>
<pre><code>## [1] 300</code></pre>
<p><img src="module2_1_files/figure-html/unnamed-chunk-16-17.png" width="672" /></p>
<pre><code>## [1] 320</code></pre>
<p><img src="module2_1_files/figure-html/unnamed-chunk-16-18.png" width="672" /></p>
<pre><code>## [1] 340</code></pre>
<p><img src="module2_1_files/figure-html/unnamed-chunk-16-19.png" width="672" /></p>
<pre><code>## [1] 360</code></pre>
<pre class="r"><code>## Use a for-loop to create a simulation to test the central limit theorem.
n.iter &lt;- 1000                                # 1000 hypothetical &quot;repeat samples.&quot;
sample.size &lt;- 30                             # Sample size of 30 from each repeat sample.
mu &lt;- 5                                       # True population mean of 5.
sd &lt;- 2                                       # True standard deviation of 2.
means &lt;- numeric(n.iter)                      # Empty vector to store the sample means.
for(i in 1:n.iter){                        # For each of the repeat samples, calculate and
    sample &lt;- rnorm(sample.size, mean = mu, sd = sd)  # store the mean.
    means[i] &lt;- mean(sample)
}
hist(means)                                # Histogram of all the means.
abline(v = mean(means), col = 2, lwd = 4)          # The mean of the means is close to the true mean of 5.</code></pre>
<p><img src="module2_1_files/figure-html/unnamed-chunk-16-20.png" width="672" /></p>
<pre class="r"><code>plot(density(means), main = &quot;&quot;)
abline(v = mean(means), col = 2, lwd = 4)</code></pre>
<p><img src="module2_1_files/figure-html/unnamed-chunk-16-21.png" width="672" /></p>
<pre class="r"><code>mean(means)                                # Close to true mean of 5</code></pre>
<pre><code>## [1] 5.009089</code></pre>
<pre class="r"><code>sd(means)*sqrt(30)                         # Close to true sd of 2</code></pre>
<pre><code>## [1] 1.983313</code></pre>
<pre class="r"><code>## Logistic growth function.
logistic.growth &lt;- function(r, P0, K){          # A function to calculate population
    dpdt &lt;- r*P0*(1-P0/K)                       # size using logistic growth model.
    P0+dpdt                                  # r = intrinsic growth rate, P0 = initial population size,
}                                          # K = carrying capacity.
logistic.growth(r = .5, P0 = 10, K = 100)</code></pre>
<pre><code>## [1] 14.5</code></pre>
<pre class="r"><code>## Logistic growth function within a for-loop
years &lt;- 20                                   # How many years we want to calc population size.
pop.size &lt;- numeric(years)                    # Empty vector to store population size.
pop.size[1] &lt;- 5                              # Starting population size (P0).
for(i in 1:(years-1)){                     # Function within a for-loop.
    pop.size[i+1] &lt;- logistic.growth(r = 0.5, P0 = pop.size[i], K = 100)
}
plot(1:years, pop.size, type = &#39;l&#39;,
     xlab = &quot;Years&quot;, ylab = &quot;Population Size&quot;)</code></pre>
<p><img src="module2_1_files/figure-html/unnamed-chunk-16-22.png" width="672" /></p>
<pre class="r"><code>## A more complex function that ouputs a plot.
plot.logistic.growth &lt;- function(r, P, K, years){
    pop.size[1] &lt;- P
    for(i in 1:(years-1)){
        pop.size[i+1] &lt;- P+r*P*(1-P/K)
        P &lt;- pop.size[i+1]
    }
    plot(1:years, pop.size, type = &#39;l&#39;, xlab = &quot;Years&quot;,
         ylab = &quot;Population Size&quot;,
         main = paste(&quot;r = &quot;, r, &quot;K = &quot;, K))
}

plot.logistic.growth(r = 0.5, P = 10, K = 100, years = 20)</code></pre>
<p><img src="module2_1_files/figure-html/unnamed-chunk-16-23.png" width="672" /></p>
<pre class="r"><code>par(mfrow = c(2, 2), mar = c(4, 4, 1, 1))                  # Multi-figure (mf) plot with 2 rows and 2 columns.
plot.logistic.growth(r = 0.1, P = 10, K = 100, years = 20)   # Change the values of r and quickly print plots.
plot.logistic.growth(r = 0.2, P = 10, K = 100, years = 20)
plot.logistic.growth(r = 0.3, P = 10, K = 100, years = 20)
plot.logistic.growth(r = 0.5, P = 10, K = 100, years = 20)</code></pre>
<p><img src="module2_1_files/figure-html/unnamed-chunk-16-24.png" width="672" /></p>
<pre class="r"><code>par(mfrow = c(1, 1))                               # Return to a 1X1 plot.</code></pre>
</div>
</div>
<div id="challenge-problems" class="section level2">
<h2>Challenge problems!</h2>
<p>1: Create a function to calculate the value of y for the equation y = beta_0 + beta_1*x for any value of beta_0, beta_1 and x.</p>
<p>2: Using the function in 1, with beta_0 = 2, and beta_1= -1 use a for-loop to calculate y for the values of x = 1,…,10. Plot the results.</p>
<p>3: Write a function that conducts a two-sided t test for a given null hypothesis.</p>
<pre><code>
get.t.test &lt;- function(data, mu0, alpha = 0.05) {
    n &lt;- length(data)
    mu &lt;- mean(____)
    s &lt;- ____(data)
    t &lt;- (mu-mu0)/(s/sqrt(n))
    t.crit &lt;- qt(p = (1-alpha/2), df = n-1)        # get the critical value
    if (abs(t)&gt;t.crit) {
        answer = &quot;_______&quot;
    } ____ {
        answer = &quot;Fail to reject&quot;
    }
    print(answer)
}
</code></pre>
<p>4: Calculate the standard deviation as an index of ruggedness from the rows of the volcano elevation data “Z”, using the apply function. Which row has the most rugged terrain?</p>
<p>5: Wrap the code below in a for loop to simulate the sun rising and setting over the volcano data by looping over values of “lphi” (the light angle). Try replacing “readline()” with “Sys.sleep(.5)” from the example above.</p>
<pre><code>persp(X, Y, Z, theta = 30, phi = 30, col = &quot;green3&quot;,  lphi = ?,
                                                          scale = FALSE,  ltheta = -120, shade = 0.75,
      border = NA, box = FALSE)
print(?)
readline()
</code></pre>
<p><a href="module2_2.html">–go to next module–</a></p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
